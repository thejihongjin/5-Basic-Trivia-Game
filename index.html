<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css">
</head>
<body>

    <h1>Totally Trivial Trivia!</h1><br>
    <div id="main-content">
        <button id="start">Start</button>
    </div>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
	/*example 
	https://codepen.io/timivey/pen/zxyNrw?editors=0010 
	https://codeactually.com/interactivequiz.html
	https://stackoverflow.com/questions/40479768/create-a-quiz-using-form-from-html-and-javascript/40479914
	https://simplestepscode.com/javascript-quiz-tutorial/
	*/
        var userAnswers = [];
        var numCorrect = 0;
        var numWrong = 0;
        var numBlank = 0;

        var intervalId;
        var timeLeft = 100;
        var triviaObj = [
            {
                question: '1. Who is the Hufflepuff house ghost?',
				options: ['Moaning Myrtle','Fat Friar','Grey Lady','Bloody Baron','Nearly Headless Nick'], //change to obj w/ letter: answer pairs?
                answer: 'Fat Friar'
            },
            {
                question: '2. Which creatures pull the carriages that take students from the Hogwarts Express to the Castle?',
                options: ['hippogriffs','thestrals','centaurs','manticores'],
                answer: 'thestrals'
            },
            {
                question: '3. Dumbledore has a scar above his left knee that is a perfect map of what?',
                options: ['Hogwarts','The Ministry of Magic','Diagon Alley','The London Underground'],
                answer: 'The London Underground'
            },
            {
                question: '4. ', //???What is the name of the room Harry uses to teach Dumbledore's Army?
                options: ['','','answer',''],
                answer: ''
            },
            {
                question: '5. What does S.P.E.W. stand for?',
                options: ['Society for the Prosecution of Evil Wizards','Society for the Promotion of Elfish Welfare','Society for the Protection of Elderly Witches','Saving Persecuted Elves Willfully'],
                answer: 'Society for the Promotion of Elfish Welfare'
            },
            {
                question: '6. ',
                options: ['answer','','',''],
                answer: ''
            },
            {
                question: '7. ',
                options: ['','','answer',''],
                answer: ''
            },
            {
                question: '8. Who was the headmaster of Hogwarts when the Chamber of Secrets was opened for the first time?',
                options: ['Albus Dumbledore','Phineas Nigellus Black','Rufus Scrimgeour','Armando Dippet'],
                answer: 'Armando Dippet'
            },
            {
                question: '9. Which of these is NOT a candy that can be purchased at Honeydukes in Hogsmeade village?',
                options: ['Blood-Flavored Lollipops','Toothflossing Stringmints','Taffy Toads','Ice Mice'],
                answer: 'Taffy Toads'
            },
            {
                question: "10. Who was the Potters' Secret Keeper?",
                options: ['Peter Pettigrew','Albus Dumbledore','Sirius Black','Remus Lupin'],
                answer: 'Peter Pettigrew'
            }
        ];

        $("#start").on("click", function() {
            $("#main-content").html("Time Remaining: <span id='time-left'>" + timeLeft + "</span> Seconds<br><br>"); //replace main content with time remaining, trivia form, & done btn
			generateTriviaForm();
            $("#main-content").append("<button id='done'>Done</button>"); //trivia form
            intervalId = setInterval(decrement, 1000);
        });

        $("#main-content").on("click", "#done", function() {
            checkAnswers(); //checks answers
        });

        function decrement() {
            timeLeft--;
            $("#time-left").html(timeLeft);
            if (timeLeft === 0) {
                checkAnswers();
            }
        }

        function generateTriviaForm() {
            var formContainer = $("<form>");
			formContainer.addClass("container");

            for (var i = 0; i < triviaObj.length; i++) {
				var quizQuestion = $("<span>");
				$(quizQuestion).text(triviaObj[i].question);
				$(formContainer).append(quizQuestion);
				$(formContainer).append("<br>");

				for (var j = 0; j < triviaObj[i].options.length; j++) {
					var answerRadio = $("<input>");
					answerRadio.attr("type", "radio");
					answerRadio.attr("name", "q" + i); //to group radio selections together
					answerRadio.attr("id", "q" + i + "a" + j);
					answerRadio.attr("value", j);

					var answerLabel= $("<label>");
					answerLabel.attr("for", "q" + i + "a" + j);
					$(answerLabel).text(triviaObj[i].options[j]);

					$(formContainer).append(answerRadio);
					$(formContainer).append(answerLabel);
					$(formContainer).append("<br>");
				}

				$(formContainer).append("<br>");
            }
			
            $("#main-content").append(formContainer); //trivia form
        }

        function checkAnswers() {
            clearInterval(intervalId);

			//https://sharepoint.stackexchange.com/questions/118934/how-to-save-checked-value-state-from-radio-button-in-an-html-page-form-to-custom ??
			//we could use var input = document.getElementById("input_id").value; to get the value of input field, where input_id is the id of your input field.

			//for/foreach loop
				/*if (userAnswers[i] === '') {
					numBlank++;
				} else if (userAnswers[i] === triviaObj[i].answer) {
					numCorrect++;
				} else {
					numWrong++;
				}*/

            $("#main-content").html("All Done!<br><br>Correct Answers: " + numCorrect + "<br>Incorrect Answers: " + numWrong + "<br>Unanswered: " + numBlank);
        }
	</script>
	
    <!-- <script src="./assets/javascript/app.js"></script> -->
</body>
</html>

<!--
### Option One: Basic Quiz (Timed Form)
![Basic](Images/1-basic.jpg)
**[Click Here to Watch the Demo](https://youtu.be/fBIj8YsA9dk)**.
* You'll create a trivia form with multiple choice or true/false options (your choice).
* The player will have a limited amount of time to finish the quiz. 
  * The game ends when the time runs out. The page will reveal the number of questions that players answer correctly and incorrectly.
* Don't let the player pick more than one answer per question.
* Don't forget to include a countdown timer.
-->